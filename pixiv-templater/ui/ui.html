<!-- Pixiv Templater UI -->
<div id="pixiv-templater">
    <div id="pixiv-templater-header">
        <div class="header-left">
            <span class="header-title-with-icon">
                <svg width="26" height="26" viewBox="0 0 128 128" fill="none" xmlns="http://www.w3.org/2000/svg"
                    style="vertical-align: middle;">
                    <rect width="128" height="128" rx="28" fill="white"" fill-opacity=" 0.2" />
                    <rect x="34" y="28" width="60" height="72" rx="4" fill="white" />
                    <rect x="40" y="34" width="48" height="12" rx="2" fill="#0096FA" fill-opacity="0.3" />
                    <rect x="40" y="52" width="14" height="42" rx="2" fill="#0096FA" fill-opacity="0.3" />
                    <rect x="58" y="52" width="30" height="42" rx="2" fill="#0096FA" fill-opacity="0.5" />
                </svg>
                Templates
            </span>
        </div>
        <div class="header-right">
            <div class="settings-dropdown">
                <button class="header-settings-btn" id="settings-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-menu-icon lucide-menu">
                        <path d="M4 5h16" />
                        <path d="M4 12h16" />
                        <path d="M4 19h16" />
                    </svg>
                </button>
                <div class="settings-menu" id="settings-menu">
                    <div class="settings-menu-item" id="reset-position">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-move"><path d="M12 2v20"/><path d="m15 19-3 3-3-3"/><path d="m19 9 3 3-3 3"/><path d="m2 12 20 0"/><path d="m5 9-3 3 3 3"/><path d="m9 5 3-3 3 3"/></svg>
                        Resetar Posi√ß√£o
                    </div>
                    <div class="settings-menu-item" id="refresh-data">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-rotate-cw-icon lucide-rotate-cw">
                            <path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8" />
                            <path d="M21 3v5h-5" />
                        </svg>
                        Atualizar Dados
                    </div>
                    <div class="settings-menu-item" id="open-dashboard">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link"><path d="M15 3h6v6"/><path d="M10 14 21 3"/><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/></svg>
                        Abrir Dashboard
                    </div>
                </div>
            </div>
            <span class="keyboard-hint" id="shortcuts-hint"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                    height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-circle-question-mark-icon lucide-circle-question-mark">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                    <path d="M12 17h.01" />
                </svg></span>
        </div>
        <span id="pixiv-templater-toggle">‚àí</span>
    </div>
    <div id="pixiv-templater-content">
        <div id="template-list"></div>
        <input type="file" id="import-input" accept=".json" style="display: none" />
    </div>
</div>

<!-- √çcone Minimizado -->
<div id="pixiv-templater-minimized">
    <svg width="48" height="48" viewBox="0 0 128 128" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="128" height="128" rx="28" fill="#0096FA" />
        <rect x="34" y="28" width="60" height="72" rx="4" fill="white" />
        <rect x="40" y="34" width="48" height="12" rx="2" fill="#0096FA" fill-opacity="0.2" />
        <rect x="40" y="52" width="14" height="42" rx="2" fill="#0096FA" fill-opacity="0.2" />
        <rect x="58" y="52" width="30" height="42" rx="2" fill="#0096FA" fill-opacity="0.4" />
    </svg>
</div>

<!-- Modal de Edi√ß√£o/Cria√ß√£o de Template -->
<div id="template-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="modal-title">Novo Template</h2>
            <button class="modal-close">√ó</button>
        </div>
        <form id="template-form">
            <div class="form-group">
                <label>Nome do Template *</label>
                <input type="text" id="template-name" required placeholder="Ex: Genshin Impact" />
            </div>

            <div class="form-group">
                <label>T√≠tulo</label>
                <input type="text" id="template-title" placeholder="Deixe vazio para preencher manualmente" />
            </div>

            <div class="form-group">
                <label>Descri√ß√£o/Caption</label>
                <textarea id="template-caption" placeholder="Descri√ß√£o do post..."></textarea>
            </div>

            <div class="form-group">
                <label>Tags (pressione Enter para adicionar) *</label>
                <div class="tag-input-container" id="tag-container">
                    <input type="text" class="tag-input-field" id="tag-input" placeholder="Digite uma tag..." />
                </div>
                <small style="color: #666; font-size: 12px">Pelo menos 1 tag √© obrigat√≥ria</small>
            </div>

            <div class="form-group">
                <label>Age Rating *</label>
                <select id="template-age-rating" required>
                    <option value="general">All ages</option>
                    <option value="r18">R-18</option>
                    <option value="r18g">R-18G</option>
                </select>
            </div>

            <div class="form-group" id="adult-content-group">
                <label>Adult Content (para All ages) *</label>
                <div class="form-group-inline">
                    <input type="checkbox" id="template-adult-content" />
                    <label for="template-adult-content">Included (Slightly sexual or suggestive content)</label>
                </div>
                <small style="color: #666; font-size: 12px">‚ö†Ô∏è Se n√£o houver nada adulto/sugestivo, deixe
                    desmarcado</small>
            </div>

            <div class="form-group" id="mature-content-group" style="display: none">
                <label>Mature Content (para R-18)</label>
                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" value="lo" /> Minors
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" value="furry" /> Furry
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" value="bl" /> BL
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" value="yuri" /> GL
                    </label>
                </div>
                <small style="color: #666; font-size: 12px">Opcional - selecione categorias espec√≠ficas se
                    aplic√°vel</small>
            </div>

            <div class="form-group">
                <label>AI-generated *</label>
                <select id="template-ai-generated" required>
                    <option value="aiGenerated">Yes</option>
                    <option value="notAiGenerated">No</option>
                </select>
            </div>

            <div class="modal-actions">
                <button type="button" class="btn-secondary" id="modal-cancel">
                    Cancelar
                </button>
                <button type="submit" class="btn-primary">
                    Salvar Template
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Modal de Preview -->
<div id="template-preview-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="preview-title">Preview do Template</h2>
            <button class="modal-close preview-close"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" class="lucide lucide-x-icon lucide-x">
                    <path d="M18 6 6 18" />
                    <path d="m6 6 12 12" />
                </svg></button>
        </div>
        <div class="modal-body">
            <div id="preview-body-content">
                <!-- Conte√∫do ser√° preenchido dinamicamente -->
            </div>
        </div>
        <div class="modal-actions">
            <button class="btn-secondary preview-close">Fechar</button>
            <button class="btn-primary" id="preview-apply">
                Aplicar Template
            </button>
        </div>
    </div>
</div>
</parameter>

<!-- Modal de Estat√≠sticas -->
<div id="stats-modal">
    <div class="stats-content">
        <div class="stats-header">
            <h2>üìä Estat√≠sticas de Uso</h2>
            <button class="stats-close">√ó</button>
        </div>
        <div id="stats-body">
            <!-- Conte√∫do ser√° preenchido dinamicamente -->
        </div>
    </div>
</div>

<!-- Modal de Configura√ß√£o de Atalhos -->
<div id="shortcuts-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>‚å®Ô∏è Configurar Atalhos de Teclado</h2>
            <button class="modal-close shortcuts-modal-close">√ó</button>
        </div>
        <div class="shortcuts-note">
            üí° Clique em um campo e pressione a combina√ß√£o de teclas
            desejada.<br />
            Use Ctrl/Cmd, Shift, Alt + uma tecla.
        </div>
        <div class="shortcuts-grid">
            <div class="shortcut-item">
                <label>Expandir/Colapsar Painel</label>
                <input type="text" class="shortcut-input" data-action="togglePanel" readonly />
            </div>
            <div class="shortcut-item">
                <label>Novo Template</label>
                <input type="text" class="shortcut-input" data-action="newTemplate" readonly />
            </div>
            <div class="shortcut-item">
                <label>Exportar Templates</label>
                <input type="text" class="shortcut-input" data-action="exportTemplates" readonly />
            </div>
            <div class="shortcut-item">
                <label>Importar Templates</label>
                <input type="text" class="shortcut-input" data-action="importTemplates" readonly />
            </div>
            <div class="shortcut-item">
                <label>Mostrar Ajuda</label>
                <input type="text" class="shortcut-input" data-action="showHelp" readonly />
            </div>
            <div class="shortcut-item">
                <label>Aplicar Template 1</label>
                <input type="text" class="shortcut-input" data-action="applyTemplate1" readonly />
            </div>
            <div class="shortcut-item">
                <label>Aplicar Template 2</label>
                <input type="text" class="shortcut-input" data-action="applyTemplate2" readonly />
            </div>
            <div class="shortcut-item">
                <label>Aplicar Template 3</label>
                <input type="text" class="shortcut-input" data-action="applyTemplate3" readonly />
            </div>
            <div class="shortcut-item">
                <label>Aplicar Template 4</label>
                <input type="text" class="shortcut-input" data-action="applyTemplate4" readonly />
            </div>
            <div class="shortcut-item">
                <label>Aplicar Template 5</label>
                <input type="text" class="shortcut-input" data-action="applyTemplate5" readonly />
            </div>
            <div class="shortcut-item">
                <label>Aplicar Template 6</label>
                <input type="text" class="shortcut-input" data-action="applyTemplate6" readonly />
            </div>
            <div class="shortcut-item">
                <label>Aplicar Template 7</label>
                <input type="text" class="shortcut-input" data-action="applyTemplate7" readonly />
            </div>
            <div class="shortcut-item">
                <label>Aplicar Template 8</label>
                <input type="text" class="shortcut-input" data-action="applyTemplate8" readonly />
            </div>
            <div class="shortcut-item">
                <label>Aplicar Template 9</label>
                <input type="text" class="shortcut-input" data-action="applyTemplate9" readonly />
            </div>
        </div>
        <div class="shortcuts-actions">
            <button class="btn-reset" id="shortcuts-reset">
                üîÑ Restaurar Padr√£o
            </button>
            <button class="btn-secondary" id="shortcuts-cancel">
                Cancelar
            </button>
            <button class="btn-primary" id="shortcuts-save">
                Salvar Atalhos
            </button>
        </div>
    </div>
</div>