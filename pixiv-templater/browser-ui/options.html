<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixiv Templater - Configura√ß√µes</title>
    <link rel="stylesheet" href="options.css">
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-title">
                    <h1>
                        <svg width="32" height="32" viewBox="0 0 128 128" fill="none" xmlns="http://www.w3.org/2000/svg"
                            style="vertical-align: middle; margin-right: 8px;">
                            <rect width="128" height="128" rx="28" fill="#0096FA" />
                            <rect x="34" y="28" width="60" height="72" rx="4" fill="white" />
                            <rect x="40" y="34" width="48" height="12" rx="2" fill="#0096FA" fill-opacity="0.2" />
                            <rect x="40" y="52" width="14" height="42" rx="2" fill="#0096FA" fill-opacity="0.2" />
                            <rect x="58" y="52" width="30" height="42" rx="2" fill="#0096FA" fill-opacity="0.4" />
                        </svg>
                        Pixiv Templater
                    </h1>
                    <p class="version" id="header-version">v2.0.2</p>
                </div>
                <div class="header-actions">
                    <button id="export-all" class="btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="icon">
                            <path d="M12 15V3" />
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                            <path d="m7 10 5 5 5-5" />
                        </svg>
                        Exportar
                    </button>
                    <button id="import-templates" class="btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-upload-icon lucide-upload">
                            <path d="M12 3v12" />
                            <path d="m17 8-5-5-5 5" />
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                        </svg>
                        Importar
                    </button>
                    <input type="file" id="import-input" accept=".json" style="display: none;">
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="tabs">
            <button class="tab active" data-tab="templates">
                <span class="icon">üìã</span>
                Templates
            </button>
            <button class="tab" data-tab="shortcuts">
                <span class="icon">‚å®Ô∏è</span>
                Atalhos
            </button>
            <button class="tab" data-tab="stats">
                <span class="icon">üìä</span>
                Estat√≠sticas
            </button>
            <button class="tab" data-tab="about">
                <span class="icon">‚ÑπÔ∏è</span>
                Sobre
            </button>
            <button class="tab" data-tab="advanced">
                <span class="icon">‚öôÔ∏è</span>
                Avan√ßado
            </button>
        </nav>

        <!-- Content Sections -->
        <main class="content">
            <!-- Templates Tab -->
            <section id="templates-tab" class="tab-content active">
                <div class="section-header">
                    <h2>Gerenciar Templates</h2>
                    <button id="new-template" class="btn btn-primary">
                        <span class="icon">‚ûï</span>
                        Novo Template
                    </button>
                </div>

                <div id="templates-list" class="templates-grid">
                    <!-- Templates will be rendered here -->
                </div>

                <div id="empty-state" class="empty-state" style="display: none;">
                    <div class="empty-icon">üìù</div>
                    <h3>Nenhum template ainda</h3>
                    <p>Crie seu primeiro template para come√ßar!</p>
                    <button class="btn btn-primary" onclick="document.getElementById('new-template').click()">
                        Criar Template
                    </button>
                </div>
            </section>

            <!-- Shortcuts Tab -->
            <section id="shortcuts-tab" class="tab-content">
                <div class="section-header">
                    <h2>Atalhos de Teclado</h2>
                    <button id="reset-shortcuts" class="btn btn-secondary">
                        <span class="icon">üîÑ</span>
                        Restaurar Padr√£o
                    </button>
                </div>

                <div class="shortcuts-grid">
                    <div class="shortcut-item">
                        <div class="shortcut-info">
                            <strong>Expandir/Colapsar Painel</strong>
                            <span class="shortcut-desc">Mostra ou oculta o painel na p√°gina do Pixiv</span>
                        </div>
                        <input type="text" class="shortcut-input" data-action="togglePanel" readonly>
                    </div>

                    <div class="shortcut-item">
                        <div class="shortcut-info">
                            <strong>Novo Template</strong>
                            <span class="shortcut-desc">Abre o modal para criar um novo template</span>
                        </div>
                        <input type="text" class="shortcut-input" data-action="newTemplate" readonly>
                    </div>

                    <div class="shortcut-item">
                        <div class="shortcut-info">
                            <strong>Exportar Templates</strong>
                            <span class="shortcut-desc">Exporta todos os templates para um arquivo JSON</span>
                        </div>
                        <input type="text" class="shortcut-input" data-action="exportTemplates" readonly>
                    </div>

                    <div class="shortcut-item">
                        <div class="shortcut-info">
                            <strong>Importar Templates</strong>
                            <span class="shortcut-desc">Importa templates de um arquivo JSON</span>
                        </div>
                        <input type="text" class="shortcut-input" data-action="importTemplates" readonly>
                    </div>

                    <div class="shortcut-item">
                        <div class="shortcut-info">
                            <strong>Mostrar Ajuda</strong>
                            <span class="shortcut-desc">Exibe todos os atalhos dispon√≠veis</span>
                        </div>
                        <input type="text" class="shortcut-input" data-action="showHelp" readonly>
                    </div>

                    <div class="shortcuts-section-title">Aplicar Templates R√°pidos (1-9)</div>

                    <div class="shortcut-item">
                        <div class="shortcut-info">
                            <strong>Aplicar Template 1-9</strong>
                            <span class="shortcut-desc">Aplica o template correspondente √† posi√ß√£o na lista</span>
                        </div>
                        <input type="text" class="shortcut-input" data-action="applyTemplate1" readonly>
                    </div>
                </div>

                <div class="shortcuts-help">
                    <p><strong>üí° Dica:</p></strong> Clique em um campo para gravar um novo atalho. Pressione as teclas
                    desejadas (ex: Ctrl+Shift+T).</p>
                </div>
            </section>

            <!-- Stats Tab -->
            <section id="stats-tab" class="tab-content">
                <div class="section-header">
                    <h2>Estat√≠sticas de Uso</h2>
                    <div class="header-actions">
                        <button id="refresh-stats" class="btn btn-secondary">
                            <span class="icon">üîÑ</span>
                            Atualizar
                        </button>
                        <button id="reset-stats" class="btn btn-danger">
                            <span class="icon">üóëÔ∏è</span>
                            Limpar Estat√≠sticas
                        </button>
                    </div>
                </div>

                <div id="stats-summary" class="stats-overview">
                    <!-- Stats summary will be rendered here -->
                </div>

                <h3
                    style="font-size: 22px; font-weight: 700; color: var(--text-primary); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    üèÜ Ranking de Uso
                </h3>

                <div id="stats-list" class="stats-list">
                    <!-- Stats list will be rendered here -->
                </div>

                <div id="stats-empty" class="empty-state" style="display: none;">
                    <div class="empty-icon">üìä</div>
                    <h3>Nenhuma estat√≠stica ainda</h3>
                    <p>Use alguns templates na p√°gina do Pixiv para come√ßar a coletar dados!</p>
                </div>
            </section>

            <!-- Advanced Tab -->
            <section id="advanced-tab" class="tab-content">
                <div class="section-header">
                    <h2>‚öôÔ∏è Configura√ß√µes Avan√ßadas</h2>
                </div>

                <div class="settings-section">
                    <div class="setting-item">
                        <div class="setting-info">
                            <h3>üêõ Modo Debug</h3>
                            <p>Ativa logs detalhados no console do navegador para diagn√≥stico de problemas.</p>
                            <p class="setting-note">‚ö†Ô∏è Pode afetar a performance. Use apenas para debugging.</p>
                        </div>
                        <div class="setting-control">
                            <label class="toggle-switch">
                                <input type="checkbox" id="debug-mode-toggle">
                                <span class="toggle-slider"></span>
                            </label>
                            <span id="debug-status" class="status-text">Desativado</span>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <h3>üìä Console de Debug</h3>
                            <p>Visualize logs em tempo real e teste funcionalidades.</p>
                        </div>
                        <div class="setting-control">
                            <button id="open-console-btn" class="btn btn-secondary">
                                <span class="icon">üñ•Ô∏è</span>
                                Abrir Console do Navegador
                            </button>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <h3>üóëÔ∏è Limpar Todos os Dados</h3>
                            <p>Remove todos os templates, estat√≠sticas e configura√ß√µes da extens√£o.</p>
                            <p class="setting-note">‚ö†Ô∏è Esta a√ß√£o n√£o pode ser desfeita!</p>
                        </div>
                        <div class="setting-control">
                            <button id="clear-all-data-btn" class="btn btn-danger">
                                <span class="icon">üóëÔ∏è</span>
                                Limpar Tudo
                            </button>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <h3>üì¶ Informa√ß√µes de Armazenamento</h3>
                            <p>Espa√ßo utilizado pela extens√£o no navegador.</p>
                        </div>
                        <div class="setting-control">
                            <div class="storage-info">
                                <div class="storage-item">
                                    <span class="storage-label">Templates:</span>
                                    <span id="storage-templates" class="storage-value">-</span>
                                </div>
                                <div class="storage-item">
                                    <span class="storage-label">Estat√≠sticas:</span>
                                    <span id="storage-stats" class="storage-value">-</span>
                                </div>
                                <div class="storage-item">
                                    <span class="storage-label">Total:</span>
                                    <span id="storage-total" class="storage-value">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- About Tab -->
            <section id="about-tab" class="tab-content">
                <div class="about-content">
                    <div class="about-header">
                        <h2>üìù Pixiv Templater</h2>
                        <p class="about-version" id="about-version">Vers√£o 2.0.2</p>
                    </div>

                    <div class="about-section">
                        <h3>Sobre</h3>
                        <p>Pixiv Templater √© uma extens√£o que</p> facilita o upload de obras no Pixiv, permitindo criar
                        templates reutiliz√°veis com t√≠tulos, descri√ß√µes, tags e configura√ß√µes predefinidas.</p>
                    </div>

                    <div class="about-section">
                        <h3>Recursos</h3>
                        <ul class="features-list">
                            <li>‚ú® Cria√ß√£o e gerenciamento de templates</li>
                            <li>‚ö° Aplica√ß√£o r√°pida com um clique ou atalho de teclado</li>
                            <li>üè∑Ô∏è Suporte completo para tags japonesas</li>
                            <li>üîû Configura√ß√µes de classifica√ß√£o et√°ria (All ages, R-18, R-18G)</li>
                            <li>ü§ñ Marca√ß√£o de conte√∫do gerado por IA</li>
                            <li>üìä Estat√≠sticas de uso de templates</li>
                            <li>üíæ Import/Export de templates em JSON</li>
                            <li>‚å®Ô∏è Atalhos de teclado personaliz√°veis</li>
                            </li>
                            <li>üé® Interface moderna e responsiva</li>
                            <li>üåô Suporte a modo escuro</li>
                        </ul>
                    </div>

                    <div class="about-section">
                        <h3>Como Usar</h3>
                        <ol class="usage-list">
                            <li>Acesse a p√°gina de upload do Pixiv: <code>pixiv.net/illustration/create</code></li>
                            <li>O painel do Pixiv Templater aparecer√° automaticamente no canto da p√°gina</li>
                            <li>Clique em um template para aplic√°-lo ao formul√°rio</li>
                            <li>Use <code>Ctrl+Shift+H</code> para ver todos os atalhos dispon√≠veis</li>
                            <li>Gerencie seus templates nesta p√°gina de configura√ß√µes</li>
                        </ol>
                    </div>

                    <div class="about-section">
                        <h3>Autor</h3>
                        <p><strong>gabszap</strong></p>
                        <p>Criado com ‚ù§Ô∏è para facilitar a vida de artistas no Pixiv</p>
                    </div>

                    <div class="about-section">
                        <h3>Tecnologias</h3>
                        <div class="tech-badges">
                            <span class="badge">Manifest V3</span>
                            <span class="badge">JavaScript</span>
                            <span class="badge">jQuery</span>
                            <span class="badge">Lucide Icons</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Template Editor Modal -->
    <div id="template-modal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2 id="modal-title">Novo Template</h2>
                <button class="modal-close">√ó</button>
            </div>
            <div class="modal-body">
                <form id="template-form">
                    <div class="form-group">
                        <label for="template-name">Nome do Template *</label>
                        <input type="text" id="template-name" required placeholder="Ex: Genshin Impact Fanart">
                    </div>

                    <div class="form-group">
                        <label for="template-title">T√≠tulo da Obra</label>
                        <input type="text" id="template-title" placeholder="T√≠tulo que aparecer√° na obra">
                    </div>

                    <div class="form-group">
                        <label for="template-caption">Descri√ß√£o</label>
                        <textarea id="template-caption" rows="4"
                            placeholder="Descri√ß√£o da obra (suporta formata√ß√£o do Pixiv)"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="tag-input">Tags *</label>
                        <div id="tag-container" class="tag-container">
                            <input type="text" id="tag-input" placeholder="Digite uma tag e pressione Enter">
                        </div>
                        <small>Pressione Enter ou</small> v√≠rgula para adicionar uma tag</small>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="template-age-rating">Classifica√ß√£o Et√°ria</label>
                            <select id="template-age-rating">
                                <option value="general">All ages</option>
                                <option value="r18">R-18</option>
                                <option value="r18g">R-18G</option>
                            </select>
                        </div>

                        <div id="adult-content-group" class="form-group">
                            <label>
                                <input type="checkbox" id="template-adult-content">
                                Conte√∫do adulto (levemente sexual)
                            </label>
                        </div>

                        <div id="mature-content-group" class="form-group" style="display: none;">
                            <label>Categorias de Conte√∫do Sens√≠vel (n√£o marque nada, caso n√£o haja)</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" value="lo"> Menores</label>
                                <label><input type="checkbox" value="furry"> Furry</label>
                                <label><input type="checkbox" value="bl"> BL (Boys Love)</label>
                                <label><input type="checkbox" value="yuri"> GL (Girls Love)</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="template-ai-generated">Conte√∫do Gerado por IA</label>
                            <select id="template-ai-generated">
                                <option value="notAiGenerated">N√£o</option>
                                <option value="aiGenerated">Sim</option>
                            </select>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" id="modal-cancel" class="btn btn-secondary">Cancelar</button>
                        <button type="submit" class="btn btn-primary">Salvar Template</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Preview Modal -->
    <div id="preview-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="preview-title">Preview do Template</h2>
                <button class="modal-close">√ó</button>
            </div>
            <div class="modal-body">
                <div id="preview-body-content">
                    <!-- Content will be dynamically generated -->
                </div>
            </div>
        </div>
    </div>

    <script src="../debug-logger.js"></script>
    <script src="../libs/jquery.min.js"></script>
    <script src="options.js"></script>
</body>

</html>